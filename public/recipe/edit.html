<div class="menu" ng-include src="'menuItems.html'">
</div>

<article>
  <form novalidate ng-submit="save()" ng-class="{submitted:editRecipeForm.submitted}" name="editRecipeForm">

    <div class="detailTop">
      <div class = "detailLeftSide">

        <div class = "inputField">
          Navn:<input type="text" ng-model="recipe.name" ng-required="true" />
        </div>
        <div class="inputField">
          Kategorier: <input type="text" name="recipeTags" ng-model="recipe.tags" ng-required="true" categories />
            <span ng-show="editRecipeForm.recipeTags.$error.categories">The value is not a valid integer!</span>
        </div>
        <div class="inputField">
          Porsjoner: <input type="text" name="recipePortions" ng-model="recipe.portions" />
        </div>        

        <div class="detailImageBox">
            <a href="">
              <span class="detailImageText">{{recipe.image ? 'Endre bilde' : 'Legg til bilde'}}</span>
              <img id="detailImagePreview"   class="detailImagePreview" ng-src="{{recipe.image || placeholderImage}}"
                   ng-click="chooseImage()" />
            </a>
        </div>
        <input type="file" id="detailImage" class="hidden" custom-on-change="changeRecipeImage" />

      </div>

      <div class="detailRightSide">

        <div class="inputField">
          <h3>Ingredienser:</h3>
          <textarea id="recipeIngredients1" auto-grow class="ingredients" 
              ng-model="recipe.ingredients1" ng-required="true"></textarea>
          <textarea id="recipeIngredients2" auto-grow class="ingredients"
	      ng-model="recipe.ingredients2"></textarea>		
        </div>
      </div>

    </div>

    <div class="detailBottom">
      <h3>Slik gjør du:</h3>
      <div class="inputField">
        <textarea class="instructions" ng-model="recipe.instructions"
                  ng-required="true"></textarea>
      </div>

      <div class="inputField">
        <button type="submit">{{recipe.$id ? 'Oppdater' : 'Lagre'}}</button>
      </div>

        <a href="" ng-click="remove()" ng-show="recipe.$id">Slett oppskriften!</a>
    </div>


  </form>
</article>
